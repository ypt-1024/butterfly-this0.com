---
title: Godot游戏开发日志-18
tags:
  - null
categories:
  - null
date: 2024-06-11 17:13:38
abbrlink:
updated:
description:
---

1 软碰撞

先新建一个Area2D节点softCollsion，绑定软碰撞检测脚本,检测到碰撞就给出一个向量

```
extends Area2D

func is_colliding():
	#获取重叠区域
	var areas = get_overlapping_areas()
	var push_vector=Vector2.ZERO
	if is_colliding():
		var area = areas[0]
		push_vector =area.global_position.direction_to(global_position)
		push_vector = push_vector.normalized()
	return push_vector
	
```

### 2 移动逻辑

在蝙蝠脚本里

```
	if soft_collsion.is_colliding():
+		velocity += soft_collsion.get_push_vector() * delta * 400
	move_and_slide()	
```

